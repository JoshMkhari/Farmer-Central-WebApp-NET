@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_farmerLayout.cshtml";

}
@model ST1109348.Models.RegisterViewModel

<div class="pagetitle">
    <h1>Dashboard</h1>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href=@Url.Action("Index", "Farmer")>Home</a></li>
            <li class="breadcrumb-item active">Dashboard</li>
        </ol>
    </nav>
</div><!-- End Page Title -->
<p />
        <div class="col-lg-8">
          <div class="row">
            <!-- Sales Card -->
            <div class="col-xxl-4 col-md-6">
              <div class="card info-card sales-card">

                  <div class="card-body">
                  <h5 class="card-title">Stock <span>| Total</span></h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-cart"></i>
                    </div>
                    <div class="ps-3">
                      <h6>@Model.MyStockList.Count</h6>
                    </div>
                  </div>
                </div>

              </div>
            </div><!-- End Sales Card -->

            <!-- Outgoing Card -->
            <div class="col-xxl-4 col-md-6">
              <div class="card info-card revenue-card">
                  <div class="card-body">
                  <h5 class="card-title">Outgoing <span>| All time</span></h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-currency-dollar"></i>
                    </div>
                    <div class="ps-3">
                      <h6>@Model.MyStockList.ElementAt(0).outgoing</h6>
                    </div>
                  </div>
                </div>

              </div>
            </div><!-- End Outgoing Card -->

            <!-- Customers Card -->
            <div class="col-xxl-4 col-xl-12">

              <div class="card info-card customers-card">

                  <div class="card-body">
                  <h5 class="card-title">Incoming <span>| Current</span></h5>

                  <div class="d-flex align-items-center">
                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                      <i class="bi bi-people"></i>
                    </div>
                    <div class="ps-3">
                      <h6>@Model.MyStockList.ElementAt(0).incoming</h6>

                    </div>
                  </div>

                </div>
              </div>

            </div><!-- End Customers Card -->
<!-- Farmers Table -->
<div class="col-auto">
    <div class="card recent-sales overflow-auto">
        <div class="card-body">
            <h5 class="card-title">Products <span>| Movements</span></h5>
            <table class="table table-hover datatable">
                <thead>
                <tr>
                    <th scope="col">Preview</th>
                    <th scope="col">Category</th>
                    <th scope="col">Name</th>
                    <th scope="col">Weight</th>
                    <th scope="col">Movement</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Production</th>
                    <th scope="col">Freeze By Date</th>
                    <th scope="col">Sell By Date</th>
                    <th scope="col">Expiration Date</th>
                </tr>
                </thead>
                <tbody>

                    @foreach (var mod in Model.ProductList)
                    {
                        <tr>
                            <td><img class="rounded-circle" width="50" height="50"  src="@($"data:image/png;base64,{Convert.ToBase64String(mod.ProductPicture.Data, 0, mod.ProductPicture.Data.Length)}")" alt="ProductPicture"/></td>
                            <td>@mod.CategoryId</td>
                            <td>@mod.Name</td>
                            <td>@mod.Weight</td>
                            <td>@mod.MovementId</td>
                            <td>@mod.Quantity</td>
                            <td>@mod.ProductionDate</td>
                            <td>@mod.FreezeByDate</td>
                            <td>@mod.SellByDate</td>
                            <td>@mod.ExpirationDate</td>
                        </tr>
                    }
                </tbody>
            </table>

        </div>

    </div>
    <p />
</div><!-- End Recent Sales -->

          <div class="card recent-sales overflow-auto">
              <div class="card-body">
                  <h5 class="card-title">Stock <span>| All</span></h5>
                  <table class="table table-hover datatable">
                      <thead>
                      <tr>
                          <th scope="col">Category</th>
                          <th scope="col">Name</th>
                          <th scope="col">Quantity</th>
                      </tr>
                      </thead>
                      <tbody>

                      @foreach (var mod in Model.MyStockList)
                      {
                          <tr>
                              <td>@mod.Category</td>
                              <td>@mod.Name</td>
                              <td>@mod.Stock</td>
                          </tr>
                      }
                      </tbody>
                  </table>

              </div>

          </div>
          </div>
           </div><!-- End Left side columns -->